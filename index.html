<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/shoelace-css/1.0.0-beta16/shoelace.css">
    <link rel="icon" type="image/png" href="./images/favicon-16x16.png" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <title>VISION - Test your vision</title>

    <meta property="og:title" content="VISION" />
    <meta property="og:description"
        content="An online platform that assist you in estimating your visual acuity from your home." />

    
</head>


<body>

    <style>
        .no-browser-support{display:none;}#charDiv p{font-family:Cambria,Georgia,serif;}.no-browser-support{font-size:1.2rem;}.bot-msg p{display:block;}.no-browser-support{color:#fff;}body{background-color:#fff;}#scoreDiv,#landingPage{position:relative;}#charDiv p,.no-browser-support{text-align:center;}#landingPage{top:52.5pt;}#landingPage{padding-left:30pt;}.bot-msg p{margin-left:revert;}.no-browser-support{position:fixed;}#charDiv p{font-weight:bold;}.no-browser-support{left:50%;}.no-browser-support{transform:translate(-50%,0);}body{font-style:normal;}.no-browser-support{bottom:15%;}#landingPage{padding-bottom:30pt;}body{font-variant:normal;}body{font-weight:400;}.bot-msg p{margin-bottom:revert;}body{font-stretch:normal;}body{font-size:10.5pt;}body{line-height:1.5;}[class~=btn]{border-left-width:medium;}[class~=btn]{border-bottom-width:medium;}body{font-size-adjust:none;}[class~=btn]{border-right-width:medium;}#charDiv p{line-height:4.166666667in;}body{font-kerning:auto;}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";}body{color:#595959;}[class~=btn]{border-top-width:medium;}[class~=btn]{border-left-style:none;}[class~=btn]{border-bottom-style:none;}[class~=btn]{border-right-style:none;}[class~=btn]{border-top-style:none;}[class~=btn]{border-left-color:currentColor;}#landingPage{padding-right:30pt;}[class~=header],html{width:100%;}[class~=btn]{border-bottom-color:currentColor;}#landingPage{padding-top:30pt;}.bot-msg p{margin-right:revert;}[class~=btn]{border-right-color:currentColor;}.bot-msg p{margin-top:revert;}[class~=btn]{border-top-color:currentColor;}html{height:100%;}html{margin-left:0;}#scoreDiv{top:82.5pt;}#charDiv p{padding-top:.3125in;}[class~=btn]{border-image:none;}[class~=btn]{background-color:inherit;}[class~=btn]{padding-left:21pt;}[class~=btn]{padding-bottom:.875pc;}[class~=btn]{padding-right:21pt;}[class~=btn]{padding-top:.875pc;}html{margin-bottom:0;}[class~=btn],.bot-msg p{font-size:1pc;}#scoreDiv{padding-left:22.5pt;}[class~=btn]{cursor:pointer;}#scoreDiv{padding-bottom:22.5pt;}#logs p{font-size:x-large;}[class~=btn]{display:inline-block;}[class~=btnStart]{box-shadow:0 .25pc 27px #5c5864;}html{margin-right:0;}[class~=btnStart]{background:#e7e7e7;}html{margin-top:0;}[class~=btnStart]{color:#000;}#logs p{font-weight:bold;}#scoreDiv{padding-right:22.5pt;}[class~=logo]{margin-left:14.25pt;}html,[class~=bot-msg]{color:#fff;}[class~=logo]{margin-bottom:14.25pt;}html{background-color:#080011;}[class~=logo]{margin-right:14.25pt;}[class~=logo]{margin-top:14.25pt;}[class~=logo],[class~=header]{display:block;}#scoreDiv{padding-top:22.5pt;}[class~=bot-msg],[class~=logo]{text-align:center;}[class~=header]{position:absolute;}.orb,[class~=bot-msg],#warnings{position:fixed;}#warnings{padding-left:0in;}[class~=header]{height:.833333333in;}body,html{background-image:linear-gradient(to bottom,#030106,#040109,#05010c,#07000f,#080011);}[class~=bot-msg],#landingPage h3{margin-left:auto;}[class~=header]{background-color:#030106;}#warnings{padding-right:.104166667in;}#warnings{bottom:10px;}html{background-position:10%,30%,50%,70%,90%,0;}#instructions{padding-left:7.5pt;}html{background-size:3pt auto,2px auto,2px auto,2px auto,2px auto,100% auto;}html{background-attachment:fixed;}.orb{bottom:45pt;}html{text-align:justify;}.orb{right:60px;}.orb{animation:spin 4s linear infinite;}.orb{width:82.5pt;}.orb{height:110px;}#instructions{padding-bottom:7.5pt;}body{width:100%;}#landingPage h3{margin-bottom:.208333333in;}.orb{margin-top:1.458333333in;}[class~=bot-msg],#landingPage h3{margin-right:auto;}body{height:100%;}.orb{border-radius:50%;}.orb{box-shadow:inset 0 0 3.125pc #fff,inset 15pt 0 3.75pc violet,inset -20px 0 .625in #0ff,inset 20px 0 300px violet,inset -15pt 0 300px #0ff,0 0 .520833333in #fff,-10px 0 .625in violet,10px 0 3.75pc #0ff;}[class~=chatbot-container]{display:none;}#instructions{padding-right:7.5pt;}body{margin-left:0;}[class~=bot-msg]{word-wrap:break-word;}#landingPage h3{margin-top:15pt;}body{margin-bottom:0;}body{margin-right:0;}[class~=bot-msg]{right:130px;}[class~=bot-msg]{bottom:1.5625in;}[class~=bot-msg]{width:200px;}body{margin-top:0;}#landingPage h3{font-weight:400;}[class~=bot-msg]{height:auto;}body{color:#fff;}[class~=bot-msg]{padding-left:.208333333in;}#landingPage h3{font-size:18pt;}body{background-color:#080011;}[class~=bot-msg]{padding-bottom:0;}#instructions{padding-top:7.5pt;}[class~=bot-msg]{padding-right:.208333333in;}[class~=bot-msg]{padding-top:0;}#instructions{font-size:13.5pt;}[class~=bot-msg]{margin-bottom:auto;}.btn:hover{background:#f5e1ee;}.bot-msg p{font-family:cursive,monospace;}[class~=bot-msg]{margin-top:auto;}[class~=bot-msg]{min-height:50px;}body{background-position:10%,30%,50%,70%,90%,0;}body{background-size:3pt auto,2px auto,2px auto,2px auto,2px auto,100% auto;}[class~=bot-msg]{min-width:230px;}[class~=bot-msg]{background-color:#200f30;}body{background-attachment:fixed;}[class~=bot-msg]{border-radius:.260416667in;}body{text-align:justify;}[class~=bot-msg]{z-index:3;}[class~=bot-msg]{-moz-animation:fadein 2s;}[class~=bot-msg]{-webkit-animation:fadein 2s;}[class~=bot-msg]{-o-animation:fadein 2s;}[class~=orb]:hover{box-shadow:inset 0pt 0px 40px #fff,inset 1.25pc 0 .625in violet,inset -15pt 0 45pt #0ff,inset .208333333in 0 18.75pc violet,inset -15pt 0 300px #0ff,0 0 3.125pc #fff,-10px 0 45pt violet,10px 0 45pt #0ff;}@keyframes spin{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg);}}@keyframes fadein{from{opacity:0;}to{opacity:1;}}@-moz-keyframes fadein{from{opacity:0;}to{opacity:1;}}@-webkit-keyframes fadein{from{opacity:0;}to{opacity:1;}}@-o-keyframes fadein{from{opacity:0;}to{opacity:1;}}@media (max-width:576px){#warnings{position:fixed;}[class~=no-browser-support]{font-size:.145833333in;}ul{font-size:15px;}[class~=no-browser-support]{bottom:4%;}#landingPage h1{font-size:1.5625pc;}ul{padding-left:0;}#warnings{bottom:30px;}#warnings{left:10%;}#warnings{right:10%;}#scoreUser{text-align:left;}#scoreUser{font-size:22px;}#scoreUser{margin-bottom:1.875pc;}ul{padding-bottom:0;}ul{padding-right:0;}#landingPage h3{font-size:14.25pt;}[class~=no-browser-support]{line-height:18pt;}ul{padding-top:0;}}
    </style>
    
    <div class="header">
        <h1 class="logo">VISION</h1>
    </div>
    <div id="landingPage">
        <h1>Welcome to VISION</h1>
        <h3>Hello there!, I'm your virtual assistant, Doctor <span id="assistantPicker"></span>. Before we start, I
            would like to give you some instructions.</h3>
        <div id="instructions">
            <ul>
                <li>This test is conducted to estimate your visual acuity.</li>
                <li>This test is depending on your audio instructions, make sure to speak loudly and clearly.</li>
                <li>Test each eye separately by covering the other.</li>
                <li>Stand 6 meters or 20 feet away from your screen.</li>
                <li>Reduce the distance accourdingly if the device is not able to catch your audio clearly.</li>
                <li>Ensure that the screen is at the eye level.</li>
                <li>Once you start, the Snellen chart alphabetical letters will be shown accordingly. </li>
                <li>Your results will be shown once the test in finished</li>

            </ul>
        </div>
        <button id="btnEnter" class="btnStart">Begin Test</button>
    </div>
    <div id="testing">
        <div id="charDiv">
            <p id="char" style="font-family: Cambria, Georgia, serif;"></p>
        </div>
        <!-- <div id="logs">-->
        <!--<p id="recording">recording status: not recording</p>-->
        <!--<p id="youSaid">you said:</p>-->
        <!--<p id="result">result</p>-->
        <!--<p id="score">Your score is: </p>-->
        <!--<p id="fails">fails: </p>-->
        <!--<p id="round">round: </p>-->
        <!--<p id="level">level: </p>-->
        <!--</div> -->
    </div>

    <div class="chatbot-container">
        <div class="bot-msg">
            <p>Hi</p>
        </div>
        <div class="orb"></div>
    </div>

    <div id="scoreDiv">
        <h2 id="scoreUser"></h2>
        <button id="btnRedo" class="btnRedo" style="background-color: rgb(64,64,64);">Take Again</button>
        <div id="warnings">
            <p>
                The information provided by VISION is created and published online for informational purposes only. It
                is
                not intended to be a substitute for professional medical advice and should not be relied on as health or
                personal advice. For clinical diagnosis, please consult a medical professional.
            </p>
        </div>
    </div>
    <div class="container">
        <h3 class="no-browser-support">Sorry, Your Browser Doesn't Support the Web Speech API.
            Try Opening This Demo In
            Google Chrome.
        </h3>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        var score, fontSize = .32 * window.outerHeight, testChar = "Q", round = 0, fails = 0, failsTemp = 0, level = 1, transcript = "", letterIndex = 0; try { var SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition, recognition = new SpeechRecognition } catch (e) { console.error(e), $(".no-browser-support").show(), $(".app").hide() } function replace(e) { return "OH" === e.toUpperCase() ? "o" : "ZEDD" === e.toUpperCase() ? "z" : "BEEF" === e.toUpperCase() ? "p" : "SAID" === e.toUpperCase() ? "z" : "SAD" === e.toUpperCase() ? "z" : "BE" === e.toUpperCase() ? "p" : "DAD" === e.toUpperCase() ? "z" : "PT" === e.toUpperCase() ? "p" : "DEE DEE" === e.toUpperCase() ? "p" : "THAT" === e.toUpperCase() ? "p" : "ZEDGE" === e.toUpperCase() ? "z" : "HE" === e.toUpperCase() ? "e" : e } function setFont(e) { 2 === e && (fontSize *= .47), 3 === e && (fontSize *= .8), 4 === e && (fontSize *= .83), 5 === e && (fontSize *= .8), 6 === e && (fontSize *= .75), 7 === e && (fontSize *= .83), 8 === e && (fontSize *= .8), 9 === e && (fontSize *= .75) } function showLanding() { $("#landingPage").fadeIn(), $("#testing").fadeOut(), $("#scoreDiv").fadeOut() } function startTesting() { $("#landingPage").fadeOut(), $("#testing").fadeIn(), $("#scoreDiv").fadeOut(), console.log(">>> Testing Started <<<"), nextWord() } function showScore() { document.getElementById("scoreUser").innerHTML = "Your Test Results: " + score.SixMeter, $("#landingPage").fadeOut(), $("#testing").fadeOut(), $("#scoreDiv").fadeIn(), recognition.stop() } function nextWord() { round += 1, fails >= 2 && (1 === level && (score = { US: "20/200", SixMeter: "6/60", DecimalNot: "0.10", MAR: "10.0", logMAR: "1.0", VAS: "50" }, showScore()), 2 === level && (score = { US: "20/100", SixMeter: "6/30", DecimalNot: "0.20", MAR: "5.0", logMAR: "0.7", VAS: "65" }, showScore()), 3 === level && (score = { US: "20/80", SixMeter: "6/24", DecimalNot: "0.25", MAR: "4.0", logMAR: "0.6", VAS: "7.0" }, showScore()), 4 === level && (score = { US: "20/63", SixMeter: "6/18", DecimalNot: "0.32", MAR: "3.2", logMAR: "0.5", VAS: "75" }, showScore()), 5 === level && (score = { US: "20/50", SixMeter: "6/15", DecimalNot: "0.40", MAR: "2.5", logMAR: "0.4", VAS: "80" }, showScore()), 6 === level && (score = { US: "20/40", SixMeter: "6/12", DecimalNot: "0.50", MAR: "2.0", logMAR: "0.3", VAS: "85" }, showScore()), 7 === level && (score = { US: "20/32", SixMeter: "6/9.5", DecimalNot: "0.63", MAR: "1.6", logMAR: "0.2", VAS: "90" }, showScore()), 8 !== level && 9 !== level || (score = { US: "20/20", SixMeter: "6/6", DecimalNot: "1.0", MAR: "1.0", logMAR: "0.0", VAS: "100" }, showScore())), 1 === letterIndex ? (round = 0, fails = 0, setFont(level += 1)) : 3 === letterIndex ? (round = 0, fails = 0, setFont(level += 1)) : 6 === letterIndex ? (round = 0, fails = 0, setFont(level += 1)) : 10 === letterIndex ? (round = 0, fails = 0, setFont(level += 1)) : 15 === letterIndex ? (round = 0, fails = 0, setFont(level += 1)) : 21 === letterIndex ? (round = 0, fails = 0, setFont(level += 1)) : 28 === letterIndex ? (round = 0, fails = 0, setFont(level += 1)) : 36 === letterIndex ? (round = 0, fails = 0, setFont(level += 1)) : 44 === letterIndex && (round = 0, fails = 0, setFont(level += 1)), 10 === level && (score = { US: "20/20", SixMeter: "6/6", DecimalNot: "1.0", MAR: "1.0", logMAR: "0.0", VAS: "100" }, showScore()), "" != transcript && (letterIndex += 1), charPicker() } function charPicker() { fails <= 1 && 10 !== level && ($("#charDiv").fadeOut("fast"), testChar = "EFPTOZLDC".split("")[Math.floor(9 * Math.random())], document.getElementById("char").innerHTML = testChar, document.getElementById("charDiv").style.fontSize = fontSize + "px", recognition.stop(), recognition.start(), $("#charDiv").fadeIn()) } function assistantPicker() { var e = ["Mark", "Tom", "Edward", "Tony", "Stark", "Roger", "Lisa", "Sean", "Phil", "Mohamed", "Lisa", "Mike", "Lara", "Wendy"], t = e[Math.floor(Math.random() * e.length)]; t = t.charAt(0).toUpperCase() + t.substring(1), document.getElementById("assistantPicker").innerText = t } recognition.continuous = !1, recognition.onresult = function (e) { console.log(">>> Recognition onresult <<<"); var t = e.resultIndex; transcript = e.results[t][0].transcript, testChar.toUpperCase() === transcript[0].toUpperCase() || (fails += 1) }, recognition.onstart = function () { }, recognition.onspeechend = function () { }, recognition.onerror = function (e) { "no-speech" === e.error && console.log("no speech detected") }, recognition.onend = function () { nextWord() }, document.getElementById("btnEnter").addEventListener("click", function () { console.log("enter pressed"), startTesting() }), document.getElementById("btnRedo").addEventListener("click", function () { fontSize = .32 * window.outerHeight, testChar = "Q", round = 0, fails = 0, level = 1, letterIndex = 0, transcript = "", startTesting() }), document.addEventListener("DOMContentLoaded", e => { showLanding(), assistantPicker() });
    </script>

</body>

</html>